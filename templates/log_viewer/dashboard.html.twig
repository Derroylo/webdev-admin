{% extends 'base.html.twig' %}

{% block title %}Dashboard - WebDev Admin{% endblock %}

{% block body %}
<div class="row">
    <div class="col-md-12">
        <h2>Log Viewer</h2>
        <p class="text-muted">Monitor and analyze your application logs</p>
    </div>
</div>

<div class="row">
    {% for type, title in log_types %}
        <div class="col-lg-3 col-6">
            <div class="small-box {{ availability[type] ? 'bg-success' : 'bg-secondary' }}">
                <div class="inner">
                    <h3>{{ title }}</h3>
                    <p>
                        {% if type == 'apache-error' %}
                            Apache server errors
                        {% elseif type == 'apache-access' %}
                            Apache access logs
                        {% elseif type == 'php' %}
                            PHP error logs
                        {% elseif type == 'symfony' %}
                            Symfony application logs
                        {% endif %}
                    </p>
                </div>
                <div class="icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                {% if availability[type] %}
                    <a href="{{ path('app_logs', {type: type}) }}" class="small-box-footer">
                        View Logs <i class="fas fa-arrow-circle-right"></i>
                    </a>
                {% else %}
                    <div class="small-box-footer">
                        Not Available
                    </div>
                {% endif %}
            </div>
        </div>
    {% endfor %}
</div>

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-info-circle"></i> About Log Viewer</h3>
            </div>
            <div class="card-body">
                <p>
                    This application provides a modern web-based interface for viewing and analyzing various log files.
                </p>
                <div class="row">
                    <div class="col-md-6">
                        <h5>Features</h5>
                        <ul>
                            <li>Real-time log file reading</li>
                            <li>Advanced search and filtering</li>
                            <li>Sortable columns</li>
                            <li>Responsive design</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>Log Types</h5>
                        <ul>
                            <li><strong>Apache Error:</strong> Server-side errors and warnings</li>
                            <li><strong>Apache Access:</strong> HTTP request logs</li>
                            <li><strong>PHP:</strong> PHP runtime errors and warnings</li>
                            <li><strong>Symfony:</strong> Application-level logs</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

